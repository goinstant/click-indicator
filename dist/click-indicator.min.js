(function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t,n=n||"root";var s=new Error('Failed to require "'+r+'" from "'+n+'"');throw s.path=r,s.parent=n,s.require=!0,s}var o=e.modules[i];return o.exports||(o.exports={},o.client=o.component=!0,o.call(this,o.exports,e.relative(i),o)),o.exports}e.modules={},e.aliases={},e.resolve=function(t){t.charAt(0)==="/"&&(t=t.slice(1));var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"];for(var r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function r(e,t){var n=e.length;while(n--)if(e[n]===t)return n;return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var n=e.normalize(t,"..");return i.resolve=function(i){var s=i.charAt(0);if("/"==s)return i.slice(1);if("."==s)return e.normalize(n,i);var o=t.split("/"),u=r(o,"deps")+1;return u||(u=0),i=o.slice(0,u+1).join("/")+"/deps/"+i,i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("lodash-lodash/index.js",function(e,t,n){n.exports=t("./dist/lodash.compat.js")}),e.register("lodash-lodash/dist/lodash.compat.js",function(e,t,n){(function(){function $(e,t,n){var r=(n||0)-1,i=e?e.length:0;while(++r<i)if(e[r]===t)return r;return-1}function J(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null)return e[t]?0:-1;n!="number"&&n!="string"&&(n="object");var r=n=="number"?t:u+t;return e=(e=e[n])&&e[r],n=="object"?e&&$(e,t)>-1?0:-1:e?0:-1}function K(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null)t[e]=!0;else{n!="number"&&n!="string"&&(n="object");var r=n=="number"?e:u+e,i=t[n]||(t[n]={});n=="object"?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function Q(e){return e.charCodeAt(0)}function G(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||typeof n=="undefined")return 1;if(n<r||typeof r=="undefined")return-1}return e.index-t.index}function Y(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],s=e[n-1];if(r&&typeof r=="object"&&i&&typeof i=="object"&&s&&typeof s=="object")return!1;var o=tt();o["false"]=o["null"]=o["true"]=o["undefined"]=!1;var u=tt();u.array=e,u.cache=o,u.push=K;while(++t<n)u.push(e[t]);return u}function Z(e){return"\\"+R[e]}function et(){return r.pop()||[]}function tt(){return i.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,"undefined":!1,value:null}}function nt(e){return typeof e.toString!="function"&&typeof (e+"")=="string"}function rt(e){e.length=0,r.length<f&&r.push(e)}function it(e){var t=e.cache;t&&it(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,i.length<f&&i.push(e)}function st(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function ot(e){function Ut(e){return e&&typeof e=="object"&&!hn(e)&&xt.call(e,"__wrapped__")?e:new zt(e)}function zt(e,t){this.__chain__=!!t,this.__wrapped__=e}function Vt(e){function i(){if(n){var e=n.slice();Nt.apply(e,arguments)}if(this instanceof i){var s=Jt(t.prototype),o=t.apply(s,e||arguments);return Wn(o)?o:s}return t.apply(r,e||arguments)}var t=e[0],n=e[2],r=e[4];return an(i,e),i}function $t(e,t,n,r,i){if(n){var s=n(e);if(typeof s!="undefined")return s}var o=Wn(e);if(!o)return e;var u=mt.call(e);if(!B[u]||!Wt.nodeClass&&nt(e))return e;var a=qt[u];switch(u){case L:case A:return new a(+e);case _:case H:return new a(e);case P:return s=a(e.source,v.exec(e)),s.lastIndex=e.lastIndex,s}var f=hn(e);if(t){var l=!r;r||(r=et()),i||(i=et());var c=r.length;while(c--)if(r[c]==e)return i[c];s=f?a(e.length):{}}else s=f?st(e):xn({},e);return f&&(xt.call(e,"index")&&(s.index=e.index),xt.call(e,"input")&&(s.input=e.input)),t?(r.push(e),i.push(s),(f?Sn:_n)(e,function(e,o){s[o]=$t(e,t,n,r,i)}),l&&(rt(r),rt(i)),s):s}function Jt(e,t){return Wn(e)?Mt(e):{}}function Kt(e,t,n){if(typeof e!="function")return di;if(typeof t!="undefined"&&"prototype"in e){var r=e.__bindData__;if(typeof r=="undefined"){Wt.funcNames&&(r=!e.name),r=r||!Wt.funcDecomp;if(!r){var i=Et.call(e);Wt.funcNames||(r=!m.test(i)),r||(r=w.test(i),an(e,r))}}if(r===!1||r!==!0&&r[1]&1)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return Yr(e,t)}return e}function Qt(e){function h(){var e=u?s:this;if(f||r||i){if(r){var p=r.slice();Nt.apply(p,arguments)}if(i||f){p||(p=st(arguments)),i&&Nt.apply(p,i);if(f&&p.length<o)return n|=16,Qt([t,l?n:n&-4,p,null,s,o])}}p||(p=arguments),a&&(t=e[c]);if(this instanceof h){e=Jt(t.prototype);var d=t.apply(e,p);return Wn(d)?d:e}return t.apply(e,p)}var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],u=n&1,a=n&2,f=n&4,l=n&8,c=t;return an(h,e),h}function Gt(e,t,n,r){var i=(r||0)-1,s=e?e.length:0,o=[];while(++i<s){var u=e[i];if(u&&typeof u=="object"&&typeof u.length=="number"&&(hn(u)||cn(u))){t||(u=Gt(u,t,n));var a=-1,f=u.length,l=o.length;o.length+=f;while(++a<f)o[l++]=u[a]}else n||o.push(u)}return o}function Yt(e,t,n,r,i,s){if(n){var o=n(e,t);if(typeof o!="undefined")return!!o}if(e===t)return e!==0||1/e==1/t;var u=typeof e,a=typeof t;if(e===e&&(!e||!q[u])&&(!t||!q[a]))return!1;if(e==null||t==null)return e===t;var f=mt.call(e),l=mt.call(t);f==N&&(f=D),l==N&&(l=D);if(f!=l)return!1;switch(f){case L:case A:return+e==+t;case _:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case P:case H:return e==ft(t)}var c=f==C;if(!c){if(xt.call(e,"__wrapped__ ")||xt.call(t,"__wrapped__"))return Yt(e.__wrapped__||e,t.__wrapped__||t,n,r,i,s);if(f!=D||!Wt.nodeClass&&(nt(e)||nt(t)))return!1;var h=!Wt.argsObject&&cn(e)?K:e.constructor,p=!Wt.argsObject&&cn(t)?K:t.constructor;if(h!=p&&!(zn(h)&&h instanceof h&&zn(p)&&p instanceof p)&&"constructor"in e&&"constructor"in t)return!1}var d=!i;i||(i=et()),s||(s=et());var v=i.length;while(v--)if(i[v]==e)return s[v]==t;var m=0;o=!0,i.push(e),s.push(t);if(c){v=e.length,m=t.length,o=m==e.length;if(!o&&!r)return o;while(m--){var g=v,y=t[m];if(r){while(g--)if(o=Yt(e[g],y,n,r,i,s))break}else if(!(o=Yt(e[m],y,n,r,i,s)))break}return o}return On(t,function(t,u,a){if(xt.call(a,u))return m++,o=xt.call(e,u)&&Yt(e[u],t,n,r,i,s)}),o&&!r&&On(e,function(e,t,n){if(xt.call(n,t))return o=--m>-1}),d&&(rt(i),rt(s)),o}function Zt(e,t,n,r,i){(hn(t)?cr:_n)(t,function(t,s){var o,u,a=t,f=e[s];if(t&&((u=hn(t))||Jn(t))){var l=r.length;while(l--)if(o=r[l]==t){f=i[l];break}if(!o){var c;if(n){a=n(f,t);if(c=typeof a!="undefined")f=a}c||(f=u?hn(f)?f:[]:Jn(f)?f:{}),r.push(t),i.push(f),c||Zt(f,t,n,r,i)}}else n&&(a=n(f,t),typeof a=="undefined"&&(a=t)),typeof a!="undefined"&&(f=a);e[s]=f})}function en(e,t){return e+wt(It()*(t-e+1))}function tn(e,t,n){var r=-1,i=un(),s=e?e.length:0,o=[],u=!t&&s>=a&&i===$,f=n||u?et():o;if(u){var l=Y(f);l?(i=J,f=l):(u=!1,f=n?f:(rt(f),o))}while(++r<s){var c=e[r],h=n?n(c,r,e):c;if(t?!r||f[f.length-1]!==h:i(f,h)<0)(n||u)&&f.push(h),o.push(c)}return u?(rt(f.array),it(f)):n&&rt(f),o}function nn(e){return function(t,n,r){var i={};n=Ut.createCallback(n,r,3);if(hn(t)){var s=-1,o=t.length;while(++s<o){var u=t[s];e(i,u,n(u,s,t),t)}}else Sn(t,function(t,r,s){e(i,t,n(t,r,s),s)});return i}}function rn(e,t,n,r,i,s){var o=t&1,u=t&2,a=t&4,f=t&8,l=t&16,c=t&32;if(!u&&!zn(e))throw new lt;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=h.slice(),o&&!(h[1]&1)&&(h[4]=i),!o&&h[1]&1&&(t|=8),a&&!(h[1]&4)&&(h[5]=s),l&&Nt.apply(h[2]||(h[2]=[]),n),c&&Nt.apply(h[3]||(h[3]=[]),r),h[1]|=t,rn.apply(null,h);var p=t==1||t===17?Vt:Qt;return p([e,t,n,r,i,s])}function sn(){I.shadowedProps=x,I.array=I.bottom=I.loop=I.top="",I.init="iterable",I.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)I[n]=e[n];var r=I.args;I.firstArg=/^[^,]+/.exec(r)[0];var i=R("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+Xt(I)+"\n}");return i(Kt,O,ht,xt,o,cn,hn,Qn,I.keys,pt,q,Rt,H,dt,mt)}function on(e){return yn[e]}function un(){var e=(e=Ut.indexOf)===Br?$:e;return e}function fn(e){var t,n;return!e||mt.call(e)!=D||(t=e.constructor,zn(t)&&!(t instanceof t))||!Wt.argsClass&&cn(e)||!Wt.nodeClass&&nt(e)?!1:Wt.ownLast?(On(e,function(e,t,r){return n=xt.call(r,t),!1}),n!==!1):(On(e,function(e,t){n=t}),typeof n=="undefined"||xt.call(e,n))}function ln(e){return bn[e]}function cn(e){return e&&typeof e=="object"&&typeof e.length=="number"&&mt.call(e)==N||!1}function Tn(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=t,t=!1),$t(e,t,typeof n=="function"&&Kt(n,r,1))}function Nn(e,t,n){return $t(e,!0,typeof t=="function"&&Kt(t,n,1))}function Cn(e,t){var n=Jt(e);return t?xn(n,t):n}function Ln(e,t,n){var r;return t=Ut.createCallback(t,n,3),_n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function An(e,t,n){var r;return t=Ut.createCallback(t,n,3),Dn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function Mn(e,t,n){var r=[];On(e,function(e,t){r.push(t,e)});var i=r.length;t=Kt(t,n,3);while(i--)if(t(r[i--],r[i],e)===!1)break;return e}function Dn(e,t,n){var r=dn(e),i=r.length;t=Kt(t,n,3);while(i--){var s=r[i];if(t(e[s],s,e)===!1)break}return e}function Pn(e){var t=[];return On(e,function(e,n){zn(e)&&t.push(n)}),t.sort()}function Hn(e,t){return e?xt.call(e,t):!1}function Bn(e){var t=-1,n=dn(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function jn(e){return e===!0||e===!1||e&&typeof e=="object"&&mt.call(e)==L||!1}function Fn(e){return e&&typeof e=="object"&&mt.call(e)==A||!1}function In(e){return e&&e.nodeType===1||!1}function qn(e){var t=!0;if(!e)return t;var n=mt.call(e),r=e.length;return n==C||n==H||(Wt.argsClass?n==N:cn(e))||n==D&&typeof r=="number"&&zn(e.splice)?!r:(_n(e,function(){return t=!1}),t)}function Rn(e,t,n,r){return Yt(e,t,typeof n=="function"&&Kt(n,r,2))}function Un(e){return Dt(e)&&!Pt(parseFloat(e))}function zn(e){return typeof e=="function"}function Wn(e){return!!e&&!!q[typeof e]}function Xn(e){return $n(e)&&e!=+e}function Vn(e){return e===null}function $n(e){return typeof e=="number"||e&&typeof e=="object"&&mt.call(e)==_||!1}function Kn(e){return e&&q[typeof e]&&mt.call(e)==P||!1}function Qn(e){return typeof e=="string"||e&&typeof e=="object"&&mt.call(e)==H||!1}function Gn(e){return typeof e=="undefined"}function Yn(e){var t=arguments,n=2;if(!Wn(e))return e;typeof t[2]!="number"&&(n=t.length);if(n>3&&typeof t[n-2]=="function")var r=Kt(t[--n-1],t[n--],2);else n>2&&typeof t[n-1]=="function"&&(r=t[--n]);var i=st(arguments,1,n),s=-1,o=et(),u=et();while(++s<n)Zt(e,i[s],r,o,u);return rt(o),rt(u),e}function Zn(e,t,n){var r=un(),i=typeof t=="function",s={};if(i)t=Ut.createCallback(t,n,3);else var o=Gt(arguments,!0,!1,1);return On(e,function(e,n,u){if(i?!t(e,n,u):r(o,n)<0)s[n]=e}),s}function er(e){var t=-1,r=dn(e),i=r.length,s=n(i);while(++t<i){var o=r[t];s[t]=[o,e[o]]}return s}function tr(e,t,n){var r={};if(typeof t!="function"){var i=-1,s=Gt(arguments,!0,!1,1),o=Wn(e)?s.length:0;while(++i<o){var u=s[i];u in e&&(r[u]=e[u])}}else t=Ut.createCallback(t,n,3),On(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function nr(e,t,n,r){var i=hn(e);if(n==null)if(i)n=[];else{var s=e&&e.constructor,o=s&&s.prototype;n=Jt(o)}return t&&(t=Kt(t,r,4),(i?Sn:_n)(e,function(e,r,i){return t(n,e,r,i)})),n}function rr(e){var t=-1,r=dn(e),i=r.length,s=n(i);while(++t<i)s[t]=e[r[t]];return s}function ir(e){var t=arguments,r=-1,i=Gt(t,!0,!1,1),s=t[2]&&t[2][t[1]]===e?1:i.length,o=n(s);Wt.unindexedChars&&Qn(e)&&(e=e.split(""));while(++r<s)o[r]=e[i[r]];return o}function sr(e,t,n){var r=-1,i=un(),s=e?e.length:0,o=!1;return n=(n<0?Bt(0,s+n):n)||0,hn(e)?o=i(e,t,n)>-1:typeof s=="number"?o=(Qn(e)?e.indexOf(t,n):i(e,t,n))>-1:Sn(e,function(e){if(++r>=n)return!(o=e===t)}),o}function ur(e,t,n){var r=!0;t=Ut.createCallback(t,n,3);if(hn(e)){var i=-1,s=e.length;while(++i<s)if(!(r=!!t(e[i],i,e)))break}else Sn(e,function(e,n,i){return r=!!t(e,n,i)});return r}function ar(e,t,n){var r=[];t=Ut.createCallback(t,n,3);if(hn(e)){var i=-1,s=e.length;while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}}else Sn(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function fr(e,t,n){t=Ut.createCallback(t,n,3);if(!hn(e)){var o;return Sn(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o}var r=-1,i=e.length;while(++r<i){var s=e[r];if(t(s,r,e))return s}}function lr(e,t,n){var r;return t=Ut.createCallback(t,n,3),hr(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function cr(e,t,n){if(t&&typeof n=="undefined"&&hn(e)){var r=-1,i=e.length;while(++r<i)if(t(e[r],r,e)===!1)break}else Sn(e,t,n);return e}function hr(e,t,n){var r=e,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Kt(t,n,3);if(hn(e)){while(i--)if(t(e[i],i,e)===!1)break}else{if(typeof i!="number"){var s=dn(e);i=s.length}else Wt.unindexedChars&&Qn(e)&&(r=e.split(""));Sn(e,function(e,n,o){return n=s?s[--i]:--i,t(r[n],n,o)})}return e}function vr(e,t){var r=st(arguments,2),i=-1,s=typeof t=="function",o=e?e.length:0,u=n(typeof o=="number"?o:0);return cr(e,function(e){u[++i]=(s?t:e[t]).apply(e,r)}),u}function mr(e,t,r){var i=-1,s=e?e.length:0,o=n(typeof s=="number"?s:0);t=Ut.createCallback(t,r,3);if(hn(e))while(++i<s)o[i]=t(e[i],i,e);else Sn(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function gr(e,t,n){var r=-Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&hn(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u>i&&(i=u)}}else t=t==null&&Qn(e)?Q:Ut.createCallback(t,n,3),Sn(e,function(e,n,s){var o=t(e,n,s);o>r&&(r=o,i=e)});return i}function yr(e,t,n){var r=Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&hn(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u<i&&(i=u)}}else t=t==null&&Qn(e)?Q:Ut.createCallback(t,n,3),Sn(e,function(e,n,s){var o=t(e,n,s);o<r&&(r=o,i=e)});return i}function wr(e,t,n,r){var i=arguments.length<3;t=Kt(t,r,4);if(hn(e)){var s=-1,o=e.length;i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else Sn(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function Er(e,t,n,r){var i=arguments.length<3;return t=Kt(t,r,4),hr(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function Sr(e,t,n){return t=Ut.createCallback(t,n,3),ar(e,function(e,n,r){return!t(e,n,r)})}function xr(e,n,r){e&&typeof e.length!="number"?e=rr(e):Wt.unindexedChars&&Qn(e)&&(e=e.split(""));if(n==null||r)return e?e[en(0,e.length-1)]:t;var i=Tr(e);return i.length=jt(Bt(0,n),i.length),i}function Tr(e){var t=-1,r=e?e.length:0,i=n(typeof r=="number"?r:0);return cr(e,function(e){var n=en(0,++t);i[t]=i[n],i[n]=e}),i}function Nr(e){var t=e?e.length:0;return typeof t=="number"?t:dn(e).length}function Cr(e,t,n){var r;t=Ut.createCallback(t,n,3);if(hn(e)){var i=-1,s=e.length;while(++i<s)if(r=t(e[i],i,e))break}else Sn(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function kr(e,t,r){var i=-1,s=e?e.length:0,o=n(typeof s=="number"?s:0);t=Ut.createCallback(t,r,3),cr(e,function(e,n,r){var s=o[++i]=tt();s.criteria=t(e,n,r),s.index=i,s.value=e}),s=o.length,o.sort(G);while(s--){var u=o[s];o[s]=u.value,it(u)}return o}function Lr(e){return e&&typeof e.length=="number"?Wt.unindexedChars&&Qn(e)?e.split(""):st(e):rr(e)}function Or(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function Mr(e){var t=-1,n=un(),r=e?e.length:0,i=Gt(arguments,!0,!0,1),s=[],o=r>=a&&n===$;if(o){var u=Y(i);u?(n=J,i=u):o=!1}while(++t<r){var f=e[t];n(i,f)<0&&s.push(f)}return o&&it(i),s}function _r(e,t,n){var r=-1,i=e?e.length:0;t=Ut.createCallback(t,n,3);while(++r<i)if(t(e[r],r,e))return r;return-1}function Dr(e,t,n){var r=e?e.length:0;t=Ut.createCallback(t,n,3);while(r--)if(t(e[r],r,e))return r;return-1}function Pr(e,n,r){var i=0,s=e?e.length:0;if(typeof n!="number"&&n!=null){var o=-1;n=Ut.createCallback(n,r,3);while(++o<s&&n(e[o],o,e))i++}else{i=n;if(i==null||r)return e?e[0]:t}return st(e,0,jt(Bt(0,i),s))}function Hr(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(e=mr(e,n,r)),Gt(e,t)}function Br(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?Bt(0,r+n):n||0}else if(n){var i=Xr(e,t);return e[i]===t?i:-1}return $(e,t,n)}function jr(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&t!=null){var s=i;t=Ut.createCallback(t,n,3);while(s--&&t(e[s],s,e))r++}else r=t==null||n?1:t||r;return st(e,0,jt(Bt(0,i-r),i))}function Fr(e){var t=arguments,n=t.length,r=-1,i=et(),s=-1,o=un(),u=e?e.length:0,f=[],l=et();while(++r<n){var c=t[r];i[r]=o===$&&(c?c.length:0)>=a&&Y(r?t[r]:l)}e:while(++s<u){var h=i[0];c=e[s];if((h?J(h,c):o(l,c))<0){r=n,(h||l).push(c);while(--r){h=i[r];if((h?J(h,c):o(t[r],c))<0)continue e}f.push(c)}}while(n--)h=i[n],h&&it(h);return rt(i),rt(l),f}function Ir(e,n,r){var i=0,s=e?e.length:0;if(typeof n!="number"&&n!=null){var o=s;n=Ut.createCallback(n,r,3);while(o--&&n(e[o],o,e))i++}else{i=n;if(i==null||r)return e?e[s-1]:t}return st(e,Bt(0,s-i))}function qr(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?Bt(0,r+n):jt(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Rr(e){var t=arguments,n=0,r=t.length,i=e?e.length:0;while(++n<r){var s=-1,o=t[n];while(++s<i)e[s]===o&&(Lt.call(e,s--,1),i--)}return e}function Ur(e,t,r){e=+e||0,r=typeof r=="number"?r:+r||1,t==null&&(t=e,e=0);var i=-1,s=Bt(0,yt((t-e)/(r||1))),o=n(s);while(++i<s)o[i]=e,e+=r;return o}function zr(e,t,n){var r=-1,i=e?e.length:0,s=[];t=Ut.createCallback(t,n,3);while(++r<i){var o=e[r];t(o,r,e)&&(s.push(o),Lt.call(e,r--,1),i--)}return s}function Wr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=Ut.createCallback(t,n,3);while(++i<s&&t(e[i],i,e))r++}else r=t==null||n?1:Bt(0,t);return st(e,r)}function Xr(e,t,n,r){var i=0,s=e?e.length:i;n=n?Ut.createCallback(n,r,1):di,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function Vr(e){return tn(Gt(arguments,!0,!0))}function $r(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(n=Ut.createCallback(n,r,3)),tn(e,t,n)}function Jr(e){return Mr(e,st(arguments,1))}function Kr(){var e=arguments.length>1?arguments:arguments[0],t=-1,r=e?gr(br(e,"length")):0,i=n(r<0?0:r);while(++t<r)i[t]=br(e,t);return i}function Qr(e,t){var n=-1,r=e?e.length:0,i={};while(++n<r){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i}function Gr(e,t){if(!zn(t))throw new lt;return function(){if(--e<1)return t.apply(this,arguments)}}function Yr(e,t){return arguments.length>2?rn(e,17,st(arguments,2),null,t):rn(e,1,null,null,t)}function Zr(e){var t=arguments.length>1?Gt(arguments,!0,!1,1):Pn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=rn(e[i],1,null,null,e)}return e}function ei(e,t){return arguments.length>2?rn(t,19,st(arguments,2),null,e):rn(t,3,null,null,e)}function ti(){var e=arguments,t=e.length;while(t--)if(!zn(e[t]))throw new lt;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function ni(e,t,n){var r=typeof e;if(e==null||r=="function")return Kt(e,t,n);if(r!="object")return function(t){return t[e]};var i=dn(e),s=i[0],o=e[s];return i.length==1&&o===o&&!Wn(o)?function(e){var t=e[s];return o===t&&(o!==0||1/o==1/t)}:function(t){var n=i.length,r=!1;while(n--)if(!(r=Yt(t[i[n]],e[i[n]],null,!0)))break;return r}}function ri(e,t){return t=typeof t=="number"?t:+t||e.length,rn(e,4,null,null,null,t)}function ii(e,n,r){var i,s,o,u,a,f,l,c=0,h=!1,p=!0;if(!zn(e))throw new lt;n=Bt(0,n)||0;if(r===!0){var d=!0;p=!1}else Wn(r)&&(d=r.leading,h="maxWait"in r&&(Bt(n,r.maxWait)||0),p="trailing"in r?r.trailing:p);var v=function(){var r=n-(Tt()-u);if(r<=0){s&&bt(s);var h=l;s=f=l=t,h&&(c=Tt(),o=e.apply(a,i))}else f=kt(v,r)},m=function(){f&&bt(f),s=f=l=t;if(p||h!==n)c=Tt(),o=e.apply(a,i)};return function(){i=arguments,u=Tt(),a=this,l=p&&(f||!d);if(h===!1)var t=d&&!f;else{!s&&!d&&(c=u);var r=h-(u-c);r<=0?(s&&(s=bt(s)),c=u,o=e.apply(a,i)):s||(s=kt(m,r))}return!f&&n!==h&&(f=kt(v,n)),t&&(o=e.apply(a,i)),o}}function si(e){if(!zn(e))throw new lt;var n=st(arguments,1);return kt(function(){e.apply(t,n)},1)}function oi(e,n){if(!zn(e))throw new lt;var r=st(arguments,2);return kt(function(){e.apply(t,r)},n)}function ui(e,t){if(!zn(e))throw new lt;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):u+arguments[0];return xt.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function ai(e){var t,n;if(!zn(e))throw new lt;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function fi(e){return rn(e,16,st(arguments,1))}function li(e){return rn(e,32,null,st(arguments,1))}function ci(e,t,n){var r=!0,i=!0;if(!zn(e))throw new lt;return n===!1?r=!1:Wn(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),j.leading=r,j.maxWait=t,j.trailing=i,ii(e,t,j)}function hi(e,t){return rn(t,16,[e])}function pi(e){return e==null?"":ft(e).replace(En,on)}function di(e){return e}function vi(e,t){var n=e,r=!t||zn(n);t||(n=zt,t=e,e=Ut),cr(Pn(t),function(i){var s=e[i]=t[i];r&&(n.prototype[i]=function(){var t=this.__wrapped__,r=[t];Nt.apply(r,arguments);var i=s.apply(e,r);return t&&typeof t=="object"&&t===i?this:(i=new n(i),i.__chain__=this.__chain__,i)})})}function mi(){return e._=vt,this}function gi(){}function bi(e,t,n){var r=e==null,i=t==null;n==null&&(typeof e=="boolean"&&i?(n=e,e=1):!i&&typeof t=="boolean"&&(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0;if(n||e%1||t%1){var s=It();return jt(e+s*(t-e+parseFloat("1e-"+((s+"").length-1))),t)}return en(e,t)}function wi(e,t){if(e){var n=e[t];return zn(n)?e[t]():n}}function Ei(e,n,r){var i=Ut.templateSettings;e=ft(e||""),r=kn({},r,i);var s=kn({},r.imports,i.imports),o=dn(s),u=rr(s),a,f=0,l=r.interpolate||b,v="__p += '",m=at((r.escape||b).source+"|"+l.source+"|"+(l===g?d:b).source+"|"+(r.evaluate||b).source+"|$","g");e.replace(m,function(t,n,r,i,s,o){return r||(r=i),v+=e.slice(f,o).replace(E,Z),n&&(v+="' +\n__e("+n+") +\n'"),s&&(a=!0,v+="';\n"+s+";\n__p += '"),r&&(v+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=o+t.length,t}),v+="';\n";var y=r.variable,w=y;w||(y="obj",v="with ("+y+") {\n"+v+"\n}\n"),v=(a?v.replace(c,""):v).replace(h,"$1").replace(p,"$1;"),v="function("+y+") {\n"+(w?"":y+" || ("+y+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var S="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+T++ +"]")+"\n*/";try{var x=R(o,"return "+v+S).apply(t,u)}catch(N){throw N.source=v,N}return n?x(n):(x.source=v,x)}function Si(e,t,r){e=(e=+e)>-1?e:0;var i=-1,s=n(e);t=Kt(t,r,1);while(++i<e)s[i]=t(i);return s}function xi(e){return e==null?"":ft(e).replace(wn,ln)}function Ti(e){var t=++s;return ft(e==null?"":e)+t}function Ni(e){return e=new zt(e),e.__chain__=!0,e}function Ci(e,t){return t(e),e}function ki(){return this.__chain__=!0,this}function Li(){return ft(this.__wrapped__)}function Ai(){return this.__wrapped__}e=e?ut.defaults(U.Object(),e,ut.pick(U,S)):U;var n=e.Array,r=e.Boolean,i=e.Date,f=e.Error,R=e.Function,z=e.Math,W=e.Number,K=e.Object,at=e.RegExp,ft=e.String,lt=e.TypeError,ct=[],ht=f.prototype,pt=K.prototype,dt=ft.prototype,vt=e._,mt=pt.toString,gt=at("^"+ft(mt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),yt=z.ceil,bt=e.clearTimeout,wt=z.floor,Et=R.prototype.toString,St=gt.test(St=K.getPrototypeOf)&&St,xt=pt.hasOwnProperty,Tt=gt.test(Tt=i.now)&&Tt||function(){return+(new i)},Nt=ct.push,Ct=pt.propertyIsEnumerable,kt=e.setTimeout,Lt=ct.splice,At=typeof (At=V&&X&&V.setImmediate)=="function"&&!gt.test(At)&&At,Ot=function(){try{var e={},t=gt.test(t=K.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Mt=gt.test(Mt=K.create)&&Mt,_t=gt.test(_t=n.isArray)&&_t,Dt=e.isFinite,Pt=e.isNaN,Ht=gt.test(Ht=K.keys)&&Ht,Bt=z.max,jt=z.min,Ft=e.parseInt,It=z.random,qt={};qt[C]=n,qt[L]=r,qt[A]=i,qt[M]=R,qt[D]=K,qt[_]=W,qt[P]=at,qt[H]=ft;var Rt={};Rt[C]=Rt[A]=Rt[_]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Rt[L]=Rt[H]={constructor:!0,toString:!0,valueOf:!0},Rt[O]=Rt[M]=Rt[P]={constructor:!0,toString:!0},Rt[D]={constructor:!0},function(){var e=x.length;while(e--){var t=x[e];for(var n in Rt)xt.call(Rt,n)&&!xt.call(Rt[n],t)&&(Rt[n][t]=!1)}}(),zt.prototype=Ut.prototype;var Wt=Ut.support={};(function(){var t=function(){this.x=1},r={0:1,length:1},i=[];t.prototype={valueOf:1,y:1};for(var s in new t)i.push(s);for(s in arguments);Wt.argsClass=mt.call(arguments)==N,Wt.argsObject=arguments.constructor==K&&!(arguments instanceof n),Wt.enumErrorProps=Ct.call(ht,"message")||Ct.call(ht,"name"),Wt.enumPrototypes=Ct.call(t,"prototype"),Wt.funcDecomp=!gt.test(e.WinRTError)&&w.test(ot),Wt.funcNames=typeof R.name=="string",Wt.nonEnumArgs=s!=0,Wt.nonEnumShadows=!/valueOf/.test(i),Wt.ownLast=i[0]!="x",Wt.spliceObjects=(ct.splice.call(r,0,1),!r[0]),Wt.unindexedChars="x"[0]+K("x")[0]!="xx";try{Wt.nodeClass=mt.call(document)!=D||!!({toString:0}+"")}catch(o){Wt.nodeClass=!0}})(1),Ut.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:g,variable:"",imports:{_:Ut}};var Xt=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",Wt.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):Wt.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),Wt.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),Wt.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];Wt.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),Wt.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))');if(e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else{t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ";if(Wt.nonEnumShadows){t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ";for(k=0;k<7;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}}if(e.array||Wt.nonEnumArgs)t+="\n}";return t+=e.bottom+";\nreturn result",t};Mt||(Jt=function(){function t(){}return function(n){if(Wn(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var an=Ot?function(e,t){F.value=t,Ot(e,"__bindData__",F)}:gi;Wt.argsClass||(cn=function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&xt.call(e,"callee")&&Ct.call(e,"callee")||!1});var hn=_t||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&mt.call(e)==C||!1},pn=sn({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),dn=Ht?function(e){return Wn(e)?Wt.enumPrototypes&&typeof e=="function"||Wt.nonEnumArgs&&e.length&&cn(e)?pn(e):Ht(e):[]}:pn,vn={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:dn,loop:"if (callback(iterable[index], index, collection) === false) return result"},mn={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:dn,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},gn={top:"if (!objectTypes[typeof iterable]) return result;\n"+vn.top,array:!1},yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bn=Bn(yn),wn=at("("+dn(bn).join("|")+")","g"),En=at("["+dn(yn).join("")+"]","g"),Sn=sn(vn),xn=sn(mn,{top:mn.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),kn=sn(mn),On=sn(vn,gn,{useHas:!1}),_n=sn(vn,gn);zn(/x/)&&(zn=function(e){return typeof e=="function"&&mt.call(e)==M});var Jn=St?function(e){if(!e||mt.call(e)!=D||!Wt.argsClass&&cn(e))return!1;var t=e.valueOf,n=typeof t=="function"&&(n=St(t))&&St(n);return n?e==n||St(e)==n:fn(e)}:fn,or=nn(function(e,t,n){xt.call(e,n)?e[n]++:e[n]=1}),pr=nn(function(e,t,n){(xt.call(e,n)?e[n]:e[n]=[]).push(t)}),dr=nn(function(e,t,n){e[n]=t}),br=mr,Ar=ar;At&&(si=function(t){if(!zn(t))throw new lt;return At.apply(e,arguments)});var yi=Ft(l+"08")==8?Ft:function(e,t){return Ft(Qn(e)?e.replace(y,""):e,t||0)};return Ut.after=Gr,Ut.assign=xn,Ut.at=ir,Ut.bind=Yr,Ut.bindAll=Zr,Ut.bindKey=ei,Ut.chain=Ni,Ut.compact=Or,Ut.compose=ti,Ut.countBy=or,Ut.create=Cn,Ut.createCallback=ni,Ut.curry=ri,Ut.debounce=ii,Ut.defaults=kn,Ut.defer=si,Ut.delay=oi,Ut.difference=Mr,Ut.filter=ar,Ut.flatten=Hr,Ut.forEach=cr,Ut.forEachRight=hr,Ut.forIn=On,Ut.forInRight=Mn,Ut.forOwn=_n,Ut.forOwnRight=Dn,Ut.functions=Pn,Ut.groupBy=pr,Ut.indexBy=dr,Ut.initial=jr,Ut.intersection=Fr,Ut.invert=Bn,Ut.invoke=vr,Ut.keys=dn,Ut.map=mr,Ut.max=gr,Ut.memoize=ui,Ut.merge=Yn,Ut.min=yr,Ut.omit=Zn,Ut.once=ai,Ut.pairs=er,Ut.partial=fi,Ut.partialRight=li,Ut.pick=tr,Ut.pluck=br,Ut.pull=Rr,Ut.range=Ur,Ut.reject=Sr,Ut.remove=zr,Ut.rest=Wr,Ut.shuffle=Tr,Ut.sortBy=kr,Ut.tap=Ci,Ut.throttle=ci,Ut.times=Si,Ut.toArray=Lr,Ut.transform=nr,Ut.union=Vr,Ut.uniq=$r,Ut.values=rr,Ut.where=Ar,Ut.without=Jr,Ut.wrap=hi,Ut.zip=Kr,Ut.zipObject=Qr,Ut.collect=mr,Ut.drop=Wr,Ut.each=cr,Ut.eachRight=hr,Ut.extend=xn,Ut.methods=Pn,Ut.object=Qr,Ut.select=ar,Ut.tail=Wr,Ut.unique=$r,Ut.unzip=Kr,vi(Ut),Ut.clone=Tn,Ut.cloneDeep=Nn,Ut.contains=sr,Ut.escape=pi,Ut.every=ur,Ut.find=fr,Ut.findIndex=_r,Ut.findKey=Ln,Ut.findLast=lr,Ut.findLastIndex=Dr,Ut.findLastKey=An,Ut.has=Hn,Ut.identity=di,Ut.indexOf=Br,Ut.isArguments=cn,Ut.isArray=hn,Ut.isBoolean=jn,Ut.isDate=Fn,Ut.isElement=In,Ut.isEmpty=qn,Ut.isEqual=Rn,Ut.isFinite=Un,Ut.isFunction=zn,Ut.isNaN=Xn,Ut.isNull=Vn,Ut.isNumber=$n,Ut.isObject=Wn,Ut.isPlainObject=Jn,Ut.isRegExp=Kn,Ut.isString=Qn,Ut.isUndefined=Gn,Ut.lastIndexOf=qr,Ut.mixin=vi,Ut.noConflict=mi,Ut.noop=gi,Ut.parseInt=yi,Ut.random=bi,Ut.reduce=wr,Ut.reduceRight=Er,Ut.result=wi,Ut.runInContext=ot,Ut.size=Nr,Ut.some=Cr,Ut.sortedIndex=Xr,Ut.template=Ei,Ut.unescape=xi,Ut.uniqueId=Ti,Ut.all=ur,Ut.any=Cr,Ut.detect=fr,Ut.findWhere=fr,Ut.foldl=wr,Ut.foldr=Er,Ut.include=sr,Ut.inject=wr,_n(Ut,function(e,t){Ut.prototype[t]||(Ut.prototype[t]=function(){var t=[this.__wrapped__],n=this.__chain__;Nt.apply(t,arguments);var r=e.apply(Ut,t);return n?new zt(r,n):r})}),Ut.first=Pr,Ut.last=Ir,Ut.sample=xr,Ut.take=Pr,Ut.head=Pr,_n(Ut,function(e,t){var n=t!=="sample";Ut.prototype[t]||(Ut.prototype[t]=function(t,r){var i=this.__chain__,s=e(this.__wrapped__,t,r);return!i&&(t==null||r&&(!n||typeof t!="function"))?s:new zt(s,i)})}),Ut.VERSION="2.2.1",Ut.prototype.chain=ki,Ut.prototype.toString=Li,Ut.prototype.value=Ai,Ut.prototype.valueOf=Ai,Sn(["join","pop","shift"],function(e){var t=ct[e];Ut.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new zt(n,e):n}}),Sn(["push","reverse","sort","unshift"],function(e){var t=ct[e];Ut.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Sn(["concat","slice","splice"
],function(e){var t=ct[e];Ut.prototype[e]=function(){return new zt(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Wt.spliceObjects||Sn(["pop","shift","splice"],function(e){var t=ct[e],n=e=="splice";Ut.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=t.apply(r,arguments);return r.length===0&&delete r[0],e||n?new zt(i,e):i}}),Ut}var t,r=[],i=[],s=0,o={},u=+(new Date)+"",a=75,f=40,l=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",c=/\b__p \+= '';/g,h=/\b(__p \+=) '' \+/g,p=/(__e\(.*?\)|\b__t\)) \+\n'';/g,d=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v=/\w*$/,m=/^function[ \n\r\t]+\w/,g=/<%=([\s\S]+?)%>/g,y=RegExp("^["+l+"]*0+(?=.$)"),b=/($^)/,w=/\bthis\b/,E=/['\n\r\t\u2028\u2029\\]/g,S=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],x=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],T=0,N="[object Arguments]",C="[object Array]",L="[object Boolean]",A="[object Date]",O="[object Error]",M="[object Function]",_="[object Number]",D="[object Object]",P="[object RegExp]",H="[object String]",B={};B[M]=!1,B[N]=B[C]=B[L]=B[A]=B[_]=B[D]=B[P]=B[H]=!0;var j={leading:!1,maxWait:0,trailing:!1},F={configurable:!1,enumerable:!1,value:null,writable:!1},I={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},R={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},U=q[typeof window]&&window||this,z=q[typeof e]&&e&&!e.nodeType&&e,W=q[typeof n]&&n&&!n.nodeType&&n,X=W&&W.exports===z&&z,V=q[typeof global]&&global;V&&(V.global===V||V.window===V)&&(U=V);var ut=ot();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(U._=ut,define(function(){return ut})):z&&W?X?(W.exports=ut)._=ut:z._=ut:U._=ut}).call(this)}),e.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("component-emitter/index.js",function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}var r=t("indexof");n.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},t._off=r,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var i=r(n,t._off||t);return~i&&n.splice(i,1),this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("caolan-async/lib/async.js",function(e,t,n){(function(){function i(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var e={},t,r;t=this,t!=null&&(r=t.async),e.noConflict=function(){return t.async=r,e};var s=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},o=function(e,t){if(e.map)return e.map(t);var n=[];return s(e,function(e,r,i){n.push(t(e,r,i))}),n},u=function(e,t,n){return e.reduce?e.reduce(t,n):(s(e,function(e,r,i){n=t(n,e,r,i)}),n)},a=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};typeof process=="undefined"||!process.nextTick?typeof setImmediate=="function"?(e.nextTick=function(e){setImmediate(e)},e.setImmediate=e.nextTick):(e.nextTick=function(e){setTimeout(e,0)},e.setImmediate=e.nextTick):(e.nextTick=process.nextTick,typeof setImmediate!="undefined"?e.setImmediate=setImmediate:e.setImmediate=e.nextTick),e.each=function(e,t,n){n=n||function(){};if(!e.length)return n();var r=0;s(e,function(s){t(s,i(function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length&&n(null))}))})},e.forEach=e.each,e.eachSeries=function(e,t,n){n=n||function(){};if(!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n(null):i())})};i()},e.forEachSeries=e.eachSeries,e.eachLimit=function(e,t,n,r){var i=f(t);i.apply(null,[e,n,r])},e.forEachLimit=e.eachLimit;var f=function(e){return function(t,n,r){r=r||function(){};if(!t.length||e<=0)return r();var i=0,s=0,o=0;(function u(){if(i>=t.length)return r();while(o<e&&s<t.length)s+=1,o+=1,n(t[s-1],function(e){e?(r(e),r=function(){}):(i+=1,o-=1,i>=t.length?r():u())})})()}},l=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.each].concat(n))}},c=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[f(e)].concat(n))}},h=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.eachSeries].concat(n))}},p=function(e,t,n,r){var i=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})};e.map=l(p),e.mapSeries=h(p),e.mapLimit=function(e,t,n,r){return d(t)(e,n,r)};var d=function(e){return c(e,p)};e.reduce=function(t,n,r,i){e.eachSeries(t,function(e,t){r(n,e,function(e,r){n=r,t(e)})},function(e){i(e,n)})},e.inject=e.reduce,e.foldl=e.reduce,e.reduceRight=function(t,n,r,i){var s=o(t,function(e){return e}).reverse();e.reduce(s,n,r,i)},e.foldr=e.reduceRight;var v=function(e,t,n,r){var i=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(o(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.filter=l(v),e.filterSeries=h(v),e.select=e.filter,e.selectSeries=e.filterSeries;var m=function(e,t,n,r){var i=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(o(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.reject=l(m),e.rejectSeries=h(m);var g=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};e.detect=l(g),e.detectSeries=h(g),e.some=function(t,n,r){e.each(t,function(e,t){n(e,function(e){e&&(r(!0),r=function(){}),t()})},function(e){r(!1)})},e.any=e.some,e.every=function(t,n,r){e.each(t,function(e,t){n(e,function(e){e||(r(!1),r=function(){}),t()})},function(e){r(!0)})},e.all=e.every,e.sortBy=function(t,n,r){e.map(t,function(e,t){n(e,function(n,r){n?t(n):t(null,{value:e,criteria:r})})},function(e,t){if(e)return r(e);var n=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};r(null,o(t.sort(n),function(e){return e.value}))})},e.auto=function(t,n){n=n||function(){};var r=a(t);if(!r.length)return n(null);var i={},o=[],f=function(e){o.unshift(e)},l=function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e){o.splice(t,1);return}},c=function(){s(o.slice(0),function(e){e()})};f(function(){a(i).length===r.length&&(n(null,i),n=function(){})}),s(r,function(r){var o=t[r]instanceof Function?[t[r]]:t[r],h=function(t){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]);if(t){var u={};s(a(i),function(e){u[e]=i[e]}),u[r]=o,n(t,u),n=function(){}}else i[r]=o,e.setImmediate(c)},p=o.slice(0,Math.abs(o.length-1))||[],d=function(){return u(p,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(r)};if(d())o[o.length-1](h,i);else{var v=function(){d()&&(l(v),o[o.length-1](h,i))};f(v)}})},e.waterfall=function(t,n){n=n||function(){};if(t.constructor!==Array){var r=new Error("First argument to waterfall must be an array of functions");return n(r)}if(!t.length)return n();var i=function(t){return function(r){if(r)n.apply(null,arguments),n=function(){};else{var s=Array.prototype.slice.call(arguments,1),o=t.next();o?s.push(i(o)):s.push(n),e.setImmediate(function(){t.apply(null,s)})}}};i(e.iterator(t))()};var y=function(e,t,n){n=n||function(){};if(t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(a(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};e.parallel=function(t,n){y({map:e.map,each:e.each},t,n)},e.parallelLimit=function(e,t,n){y({map:d(t),each:f(t)},e,n)},e.series=function(t,n){n=n||function(){};if(t.constructor===Array)e.mapSeries(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.eachSeries(a(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}},e.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},e.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var b=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};e.concat=l(b),e.concatSeries=h(b),e.whilst=function(t,n,r){t()?n(function(i){if(i)return r(i);e.whilst(t,n,r)}):r()},e.doWhilst=function(t,n,r){t(function(i){if(i)return r(i);n()?e.doWhilst(t,n,r):r()})},e.until=function(t,n,r){t()?r():n(function(i){if(i)return r(i);e.until(t,n,r)})},e.doUntil=function(t,n,r){t(function(i){if(i)return r(i);n()?r():e.doUntil(t,n,r)})},e.queue=function(t,n){function r(t,r,i,o){r.constructor!==Array&&(r=[r]),s(r,function(r){var s={data:r,callback:typeof o=="function"?o:null};i?t.tasks.unshift(s):t.tasks.push(s),t.saturated&&t.tasks.length===n&&t.saturated(),e.setImmediate(t.process)})}n===undefined&&(n=1);var o=0,u={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){r(u,e,!1,t)},unshift:function(e,t){r(u,e,!0,t)},process:function(){if(o<u.concurrency&&u.tasks.length){var e=u.tasks.shift();u.empty&&u.tasks.length===0&&u.empty(),o+=1;var n=function(){o-=1,e.callback&&e.callback.apply(e,arguments),u.drain&&u.tasks.length+o===0&&u.drain(),u.process()},r=i(n);t(e.data,r)}},length:function(){return u.tasks.length},running:function(){return o}};return u},e.cargo=function(t,n){var r=!1,i=[],u={tasks:i,payload:n,saturated:null,empty:null,drain:null,push:function(t,r){t.constructor!==Array&&(t=[t]),s(t,function(e){i.push({data:e,callback:typeof r=="function"?r:null}),u.saturated&&i.length===n&&u.saturated()}),e.setImmediate(u.process)},process:function a(){if(r)return;if(i.length===0){u.drain&&u.drain();return}var e=typeof n=="number"?i.splice(0,n):i.splice(0),f=o(e,function(e){return e.data});u.empty&&u.empty(),r=!0,t(f,function(){r=!1;var t=arguments;s(e,function(e){e.callback&&e.callback.apply(null,t)}),a()})},length:function(){return i.length},running:function(){return r}};return u};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);typeof console!="undefined"&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))}]))}};e.log=w("log"),e.dir=w("dir"),e.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),s=i.pop(),o=t.apply(null,i);o in n?s.apply(null,n[o]):o in r?r[o].push(s):(r[o]=[s],e.apply(null,i.concat([function(){n[o]=arguments;var e=r[o];delete r[o];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},e.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},e.times=function(t,n,r){var i=[];for(var s=0;s<t;s++)i.push(s);return e.map(i,n,r)},e.timesSeries=function(t,n,r){var i=[];for(var s=0;s<t;s++)i.push(s);return e.mapSeries(i,n,r)},e.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();e.reduce(t,r,function(e,t,r){t.apply(n,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,t){i.apply(n,[e].concat(t))})}};var E=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};e.applyEach=l(E),e.applyEachSeries=h(E),e.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},typeof define!="undefined"&&define.amd?define([],function(){return e}):typeof n!="undefined"&&n.exports?n.exports=e:t.async=e})()}),e.register("component-event/index.js",function(e,t,n){e.bind=function(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent("on"+t,n),n},e.unbind=function(e,t,n,r){return e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent("on"+t,n),n}}),e.register("component-query/index.js",function(e,t,n){function r(e,t){return t.querySelector(e)}e=n.exports=function(e,t){return t=t||document,r(e,t)},e.all=function(e,t){return t=t||document,t.querySelectorAll(e)},e.engine=function(t){if(!t.one)throw new Error(".one callback required");if(!t.all)throw new Error(".all callback required");r=t.one,e.all=t.all}}),e.register("component-matches-selector/index.js",function(e,t,n){function o(e,t){if(s)return s.call(e,t);var n=r.all(t,e.parentNode);for(var i=0;i<n.length;++i)if(n[i]==e)return!0;return!1}var r=t("query"),i=Element.prototype,s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;n.exports=o}),e.register("discore-closest/index.js",function(e,t,n){var r=t("matches-selector");n.exports=function(e,t,n,i){e=n?e:e.parentNode,i=i||document;do{if(r(e,t))return e;if(e===i)return}while((e=e.parentNode)&&e!==document)}}),e.register("component-delegate/index.js",function(e,t,n){var r=t("closest"),i=t("event");e.bind=function(e,t,n,s,o){return i.bind(e,n,function(n){var i=n.target||n.srcElement;n.delegateTarget=r(i,t,!0,e),n.delegateTarget&&s.call(e,n)},o)},e.unbind=function(e,t,n,r){i.unbind(e,t,n,r)}}),e.register("stagas-binder/index.js",function(e,t,n){var r=t("event"),i=t("delegate");e.on=function(e,t,n,s,o){return"string"==typeof n?(s._delegate=i.bind(e,n,t,s,o),this):(o=s,s=n,r.bind(e,t,s,o),e)},e.off=function(e,t,n,s,o){switch(typeof n){case"function":o=s,s=n;if(!s._delegate)break;case"string":return i.unbind(e,t,s._delegate,o),this}return r.unbind(e,t,s,o),e},e.once=function(t,n,r,i,s){return"function"==typeof r?(s=i,i=r,e.on(t,n,function o(r){e.off(t,n,o,s),i.call(t,r)},s)):e.on(t,n,r,function u(o){e.off(t,n,r,u,s),i.call(t,o)},s),t}}),e.register("component-raf/index.js",function(e,t,n){function i(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r));setTimeout(e,n),r=t}e=n.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||i;var r=(new Date).getTime(),s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e.cancel=function(e){s.call(window,e)}}),e.register("goinstant-colors-common/colors.js",function(e,t,n){"use strict";var r={};n.exports=r,r.REGEX=/^#([0-9A-F]{6}|[0-9A-F]{3})$/i,r.DEFAULT="#aaa",r.DEFAULTS=["#3bb200","#fc2a29","#06b8de","#e6c615","#7151e8","#8fe62e","#f60889","#51e8c3","#e65515","#c186ef","#734701","#3a9fab","#b6004d","#d4b37e","#4f7603","#8759b6","#2a82cd","#de9c8d","#003f85","#bd852c"],r.USER_PROPERTY="avatarColor",r.USER_PROPERTY_REGEX=new RegExp("/"+r.USER_PROPERTY+"$"),r.validate=function(e){return typeof e=="string"&&r.REGEX.test(e)},r.get=function(e){var t=e[r.USER_PROPERTY];return r.validate(t)?t:r.DEFAULT},r.isUserProperty=function(e){return typeof e=="string"&&r.USER_PROPERTY_REGEX.test(e)}}),e.register("goinstant-usercache/usercache.js",function(e,t,n){"use strict";function u(e){this._room=e,this._users={},this._usersKeys={},this._localUserId=null,this._emitter=new s,r.bindAll(this,["_updateUser","_handleLeaveEvent","_handleJoinEvent","_getUsers","_bindPlatformEvents","_getLocalUserId"])}var r=t("lodash"),i=t("async"),s=t("emitter"),o=["join","leave","change"];u.prototype.initialize=function(e){if(!e||!r.isFunction(e))throw new Error("Callback was not found or invalid");var t=[this._getLocalUserId,this._bindPlatformEvents,this._getUsers],n=this;i.series(t,function(t){if(t)return n.destroy(function(){return e(t)});e()})},u.prototype.destroy=function(e){var t=this;if(!e||!r.isFunction(e))throw new Error("Callback was not found or invalid");var n=t._room.key("/.users"),s=[r.bind(t._room.off,t._room,"leave",t._handleLeaveEvent),r.bind(t._room.off,t._room,"join",t._handleJoinEvent),r.bind(n.off,n,"set",t._updateUser),r.bind(n.off,n,"remove",t._updateUser)];t._emitter.off(),i.parallel(s,e)},u.prototype.getUser=function(e){var t=this._users[e];if(!t)throw new Error("Invalid id: user not found.");return t},u.prototype.getAll=function(){return r.toArray(this._users)},u.prototype.getLocalUser=function(){return this.getUser(this._localUserId)},u.prototype.getUserKey=function(e){var t=this._usersKeys[e];if(!t)throw new Error("Invalid id: user key not found.");return t},u.prototype.getAllUserKeys=function(){return r.toArray(this._usersKeys)},u.prototype.getLocalUserKey=function(){return this.getUserKey(this._localUserId)},u.prototype.on=function(e,t){if(!r.contains(o,e))throw new Error('Invalid event: "'+e+'" is not a valid event.');if(!r.isFunction(t))throw new Error("Invalid argument: listener function is required");this._emitter.on(e,t)},u.prototype.off=function(e,t){var n=Array.prototype.slice.call(arguments);this._emitter.off.apply(this._emitter,n)},u.prototype._getLocalUserId=function(e){var t=this;this._room.user(function(n,r){if(n)return e(n);t._localUserId=r.id,e()})},u.prototype._getUsers=function(e){var t=this;this._room.users(function(n,r,i){if(n)return e(n);t._users=r,t._usersKeys=i,e()})},u.prototype._bindPlatformEvents=function(e){var t=this,n=t._room.key("/.users"),s={local:!0,bubble:!0,listener:t._updateUser},o=[r.bind(t._room.on,t._room,"leave",t._handleLeaveEvent),r.bind(t._room.on,t._room,"join",t._handleJoinEvent),r.bind(n.on,n,"set",s),r.bind(n.on,n,"remove",s)];i.parallel(o,e)},u.prototype._updateUser=function(e,t){var n=this;this._room.key("/.users/"+t.userId).get(function(e,r){if(e)throw e;n._users[r.id]=r,n._emitter.emit("change",r,t.key)})},u.prototype._handleJoinEvent=function(e){this._users[e.id]=e,this._emitter.emit("join",e)},u.prototype._handleLeaveEvent=function(e){delete this._users[e.id],this._emitter.emit("leave",e)},n.exports=u}),e.register("click-indicator/index.js",function(e,t,n){"use strict";function p(e){this._options=this._validateOptions(e),this._emitter=new r,this._view=new a(this._options.namePlates,this._options.displayTimer),this._clickHandler=new u(this._options.element),this._userCache=new o(this._options.room),this._indicatorHandler=new f(this)}var r=t("emitter"),i=t("async"),s=t("lodash"),o=t("usercache"),u=t("./lib/click_handler"),a=t("./lib/indicator_view"),f=t("./lib/indicator_handler"),l=["room","namePlates","element","displayTimer"],c={namePlates:!0,element:document.documentElement,displayTimer:500},h=["error","localClick","remoteClick"];p.prototype.initialize=function(e){var t=[s.bind(this._userCache.initialize,this._userCache),s.bind(this._indicatorHandler.initialize,this._indicatorHandler)];i.series(t,e)},p.prototype.on=function(e,t){if(!s.isString(e))throw new Error("Event must be a string.");if(!s.contains(h,e))throw new Error("Invalid event name.");if(!t)throw new Error("Listener is required.");if(!s.isFunction(t))throw new Error("Listener must be a function.");this._emitter.on(e,t)},p.prototype.off=function(e,t){this._emitter.off(e,t)},p.prototype.destroy=function(e){var t=this;this._emitter.off();var n=[s.bind(t._indicatorHandler.destroy,t._indicatorHandler),s.bind(t._userCache.destroy,t._userCache),s.bind(t._view.destroy,t._view)];i.series(n,e)},p.prototype._validateOptions=function(e){var t=s.keys(e),n=s.difference(t,l);if(n.length>0)throw new Error("Unsupported options:"+n.join(","));e=s.defaults(e,c);if(!e.room||!s.isObject(e.room))throw new Error("Invalid room option.");if(!s.isBoolean(e.namePlates))throw new Error("Invalid name plate option.");if(!s.isElement(e.element))throw new Error("Invalid element option.");if(!s.isNumber(e.displayTimer))throw new Error("Invalid displayTimer option.");return e},n.exports=p}),e.register("click-indicator/lib/indicator_handler.js",function(e,t,n){"use strict";function u(e){this._room=e._options.room,this._namePlates=e._options.namePlates,this._emitter=e._emitter,this._clickHandler=e._clickHandler,this._view=e._view,this._userCache=e._userCache,this._channel=null,r.bindAll(this,"_eventHandler","_messageHandler")}var r=t("lodash"),i=t("./selectors"),s=t("./scroll_position"),o="/goinstant/widgets/click-indicator/";u.prototype.initialize=function(e){this._channel=this._room.channel(o),this._clickHandler.on("click",this._eventHandler);var t=this;this._channel.on("message",this._messageHandler,function(n){n&&t._emitter.emit("error",n),e(n)})},u.prototype._eventHandler=function(e){var t=this._userCache.getLocalUser(),n={user:t,element:e.element,offsetX:e.location.x*e.element.offsetWidth,offsetY:e.location.y*e.element.offsetHeight};this._emitter.emit("localClick",n);var r=i.createSelector(e.element),s={element:r,location:e.location},o=this;this._channel.message(s,function(e){e&&o._emitter.emit("error",e)})},u.prototype._messageHandler=function(e,t){var n=t.userId,r=this._userCache.getUser(n),o=e.location,u=i.findElement(e.element);if(!u)return;if(!u.offsetWidth&&!u.offsetHeight)return;var a={user:r,element:u,offsetX:o.x*u.offsetWidth,offsetY:o.y*u.offsetHeight};this._emitter.emit("remoteClick",a);var f=u.getBoundingClientRect(),l=s.get(),c={top:f.top+l.top,left:f.left+l.left},h={x:u.offsetWidth*o.x,y:u.offsetHeight*o.y},p={x:h.x+c.left,y:h.y+c.top};this._view.addIndicator(r,p)},u.prototype.destroy=function(e){this._clickHandler.off("click",this._eventHandler),this._channel.off("message",this._messageHandler,e)},n.exports=u}),e.register("click-indicator/lib/indicator_view.js",function(e,t,n){"use strict";function l(e,t){this._namePlates=e,this._displayTimer=t,this._container=document.createElement("div"),this._container.className=a+" ",this._container.className+=u+"-container",this._raf=i,document.body.appendChild(this._container)}var r=t("lodash"),i=t("raf"),s=t("colors-common"),o=t("../templates/template.html"),u="gi-click",a="gi-override",f={"#3bb200":{cursor:"-15",animation:"-57"},"#fc2a29":{cursor:"-30",animation:"-114"},"#06b8de":{cursor:"-45",animation:"-171"},"#e6c615":{cursor:"-60",animation:"-228"},"#7151e8":{cursor:"-75",animation:"-285"},"#8fe62e":{cursor:"-90",animation:"-342"},"#f60889":{cursor:"-105",animation:"-399"},"#51e8c3":{cursor:"-120",animation:"-456"},"#e65515":{cursor:"-135",animation:"-513"},"#c186ef":{cursor:"-150",animation:"-570"},"#734701":{cursor:"-165",animation:"-627"},"#3a9fab":{cursor:"-180",animation:"-684"},"#b6004d":{cursor:"-195",animation:"-741"},"#d4b37e":{cursor:"-210",animation:"-798"},"#4f7603":{cursor:"-225",animation:"-855"},"#8759b6":{cursor:"-240",animation:"-912"},"#2a82cd":{cursor:"-255",animation:"-969"},"#de9c8d":{cursor:"-270",animation:"-1026"},"#003f85":{cursor:"-285",animation:"-1083"},"#bd852c":{cursor:"-300",animation:"-1140"}};l.prototype.addIndicator=function(e,t){var n=s.get(e),i=f[n],u="0",a="0";i&&(u=i.cursor,a=i.animation);var l="visible";this._namePlates||(l="hidden");var c={name:e.displayName},h=r.template(o,c),p=document.createElement("div");p.innerHTML=h;var d=p.firstChild;d.style.top=t.y-3+"px",d.style.left=t.x-4+"px";var v=d.children[0],m=d.children[1];v.style.backgroundPosition=u+"px 0px",m.style.backgroundPosition=a+"px 0px";var g=d.children[2];g.style.background=n,g.style.visibility=l,this._container.appendChild(p),this._animate(p,a)},l.prototype.destroy=function(){this._container.parentNode.removeChild(this._container)},l.prototype._animate=function(e,t){var n=e.firstChild.children[1],r=0,i=-504,s=.9,o=50,u,a=(new Date).getTime(),f=this,l=function(){if(s<0)return;f._raf.call(window,l),u=(new Date).getTime();if(u-a<o)return;r!==i?(n.style.backgroundPosition=t+"px "+r+"px",r-=56,a=u,r===i&&(n.style.backgroundImage="none",o=f._displayTimer)):(s===.9&&(o=50),e.style.filter="Alpha(opacity="+s*100+")",e.style.opacity=s,s-=.1,s<0&&e.parentNode.removeChild(e))};l()},n.exports=l}),e.register("click-indicator/lib/click_handler.js",function(e,t,n){"use strict";function u(e){this._emitter=new i,this._element=e,r.bindAll(this,"_touchStartHandler","_touchEndHandler","_touchFinishedHandler","_mouseStartHandler","_validatedClick"),this._startPosition=null,this._endPosition=null,this._scrollPosition=null,this._threshold=50,this._touchEnabled="ontouchstart"in window,this._isBound=!1}var r=t("lodash"),i=t("emitter"),s=t("binder"),o=t("./scroll_position");u.prototype._touchStartHandler=function(e){this._startPosition=null,this._endPosition=null,this._scrollPosition=o.get(),this._startPosition=this._getPosition(e)},u.prototype._touchEndHandler=function(e){if(this._startPosition===null||this._isScrolling()){this._startPosition=null;return}this._endPosition=this._getPosition(e)},u.prototype._touchFinishedHandler=function(e){var t=this._startPosition,n=this._endPosition,r=!1;e.type==="touchend"&&n===null&&t?(n=t,r=!0):t&&n&&this._noMove(t,n)&&(r=!0),r&&this._validatedClick(e)},u.prototype._mouseStartHandler=function(e){this._startPosition=this._getPosition(e)},u.prototype._validatedClick=function(e){var t=e.target||e.srcElement,n={};if(!this._touchEnabled&&this._startPosition===null)n.x=.5,n.y=.5;else{var r=this._endPosition||this._startPosition,i=t.getBoundingClientRect(),s=o.get(),u={top:i.top+s.top,left:i.left+s.left};n.x=(r.x-u.left)/t.offsetWidth,n.y=(r.y-u.top)/t.offsetHeight}var a={element:t,location:n};this._emitter.emit("click",a),this._startPosition=null,this._endPosition=null,this._scrollPosition=null},u.prototype._getPosition=function(e){var t={};return e.type==="click"?(t.x=e.target.offsetWidth/2,t.y=e.target.offsetHeight/2,t):e.targetTouches&&e.targetTouches[0]?(t.x=e.targetTouches[0].pageX,t.y=e.targetTouches[0].pageY,t):e.pageX!==undefined&&e.pageY!==undefined?(t.x=e.pageX,t.y=e.pageY,t):(t.x=e.clientX,t.y=e.clientY,t)},u.prototype._isScrolling=function(){var e=this._scrollPosition,t=o.get();return e.top!==t.top||e.left!==t.left?!0:!1},u.prototype._noMove=function(e,t){var n=Math.pow(t.x-e.x,2),r=Math.pow(t.y-e.y,2),i=Math.sqrt(n+r);return i<=this._threshold?!0:!1},u.prototype.on=function(e,t){if(e!=="click"||this._isBound)return;this._emitter.on(e,t),this._touchEnabled?(s.on(this._element,"touchstart",this._touchStartHandler),s.on(this._element,"touchmove",this._touchEndHandler),s.on(this._element,"touchend",this._touchFinishedHandler)):(s.on(this._element,"mousedown",this._mouseStartHandler),s.on(this._element,"click",this._validatedClick)),this._isBound=!0},u.prototype.off=function(e,t){if(!this._isBound)return;this._emitter.off(e,t),this._touchEnabled?(s.off(this._element,"touchstart",this._touchStartHandler),s.off(this._element,"touchmove",this._touchEndHandler),s.off(this._element,"touchend",this._touchFinishedHandler)):(s.off(this._element,"mousedown",this._mouseStartHandler),s.off(this._element,"click",this._validatedClick)),this._isBound=!1},n.exports=u}),e.register("click-indicator/lib/selectors.js",function(e,t,n){"use strict";function i(){}var r=t("lodash");i.prototype.createSelector=function(e){function a(e){var t=e.tagName||e.nodeName.slice(1);return t=u.escapeTagName(t),t===c}function f(e){if(e===i)return!1;o++}var t="";if(e==document.documentElement)return"DOC_EL";if(!e.parentNode)return t;var n=e.parentNode,i=e,s=e.tagName||e.nodeName.slice(1),o,u=this;while(n&&n.tagName){var l=s.toUpperCase(),c=u.escapeTagName(l);o=0;var h=r.filter(n.children,a);r.each(h,f),t=c+":eq("+o+") > "+t;if(!n.parentNode||!n.parentNode.tagName)break;s=n.tagName,i=n,n=n.parentNode}return t=t.replace(/\s>\s$/,""),t},i.prototype.escapeTagName=function(e){var t=/([ #;?&,.+*~\':"!\^$\[\]()=>|\/@])/g;return e?e.replace(t,"\\$1"):""},i.prototype.findElement=function(e){var t=this.transformIntoDescriptions(e);if(e=="DOC_EL")return document.documentElement;if(e=="BODY:eq(0)")return document.body;var n=document.body;for(var r=0,i=t.length;r<i;r++){if(!n)break;var s=t[r];if(s.tagName=="TEXT")return n.childNodes[0];var o=[];for(var u=0;u<n.childNodes.length;u++){var a=n.childNodes[u];a.tagName&&a.tagName.toUpperCase()==s.tagName&&o.push(a)}n=o[s.index]}var f=n;return f},i.prototype.transformIntoDescriptions=function(e){var t=e.split(">"),n=[];for(var r=1,i=t.length;r<i;r++){var s=t[r].replace(/^\s+|\s+$/g,""),o=s.split(":"),u=o[1].match(/[0-9]+/)[0];s={tagName:o[0],index:u},n.push(s)}return n},i.prototype.generateHash=function(e){var t=0,n;if(e.length===0)return t;for(var r=0;r<e.length;r++)n=e.charCodeAt(r),t=(t<<5)-t+n,t|=0;return Math.abs(t)},n.exports=new i}),e.register("click-indicator/lib/scroll_position.js",function(e,t,n){"use strict";function r(){}r.prototype.get=function(){var e=document.body.scrollTop;e===0&&(window.pageYOffset?e=window.pageYOffset:e=document.body.parentElement?document.body.parentElement.scrollTop:0);var t=document.body.scrollLeft;return t===0&&(window.pageXOffset?t=window.pageXOffset:t=document.body.parentElement?document.body.parentElement.scrollLeft:0),{top:e,left:t}},n.exports=new r}),e.register("click-indicator/templates/template.html",function(e,t,n){n.exports='<div class="gi-click">\n  <div class="gi-cursor"></div>\n  <div class="gi-animation"></div>\n  <div class="gi-name"><%- name %></div>\n</div>\n'}),e.alias("lodash-lodash/index.js","click-indicator/deps/lodash/index.js"),e.alias("lodash-lodash/dist/lodash.compat.js","click-indicator/deps/lodash/dist/lodash.compat.js"),e.alias("lodash-lodash/index.js","lodash/index.js"),e.alias("component-emitter/index.js","click-indicator/deps/emitter/index.js"),e.alias("component-emitter/index.js","emitter/index.js"),e.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),e.alias("caolan-async/lib/async.js","click-indicator/deps/async/lib/async.js"),e.alias("caolan-async/lib/async.js","click-indicator/deps/async/index.js"),e.alias("caolan-async/lib/async.js","async/index.js"),e.alias("caolan-async/lib/async.js","caolan-async/index.js"),e.alias("stagas-binder/index.js","click-indicator/deps/binder/index.js"),e.alias("stagas-binder/index.js","binder/index.js"),e.alias("component-event/index.js","stagas-binder/deps/event/index.js"),e.alias("component-delegate/index.js","stagas-binder/deps/delegate/index.js"),e.alias("discore-closest/index.js","component-delegate/deps/closest/index.js"),e.alias("discore-closest/index.js","component-delegate/deps/closest/index.js"),e.alias("component-matches-selector/index.js","discore-closest/deps/matches-selector/index.js"),e.alias("component-query/index.js","component-matches-selector/deps/query/index.js"),e.alias("discore-closest/index.js","discore-closest/index.js"),e.alias("component-event/index.js","component-delegate/deps/event/index.js"),e.alias("component-raf/index.js","click-indicator/deps/raf/index.js"),e.alias("component-raf/index.js","raf/index.js"),e.alias("goinstant-colors-common/colors.js","click-indicator/deps/colors-common/colors.js"),e.alias("goinstant-colors-common/colors.js","click-indicator/deps/colors-common/index.js"),e.alias("goinstant-colors-common/colors.js","colors-common/index.js"),e.alias("goinstant-colors-common/colors.js","goinstant-colors-common/index.js"),e.alias("goinstant-usercache/usercache.js","click-indicator/deps/usercache/usercache.js"),e.alias("goinstant-usercache/usercache.js","click-indicator/deps/usercache/index.js"),e.alias("goinstant-usercache/usercache.js","usercache/index.js"),e.alias("component-emitter/index.js","goinstant-usercache/deps/emitter/index.js"
),e.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),e.alias("lodash-lodash/index.js","goinstant-usercache/deps/lodash/index.js"),e.alias("lodash-lodash/dist/lodash.compat.js","goinstant-usercache/deps/lodash/dist/lodash.compat.js"),e.alias("caolan-async/lib/async.js","goinstant-usercache/deps/async/lib/async.js"),e.alias("caolan-async/lib/async.js","goinstant-usercache/deps/async/index.js"),e.alias("caolan-async/lib/async.js","caolan-async/index.js"),e.alias("goinstant-usercache/usercache.js","goinstant-usercache/index.js"),e.alias("click-indicator/index.js","click-indicator/index.js"),typeof exports=="object"?module.exports=e("click-indicator"):typeof define=="function"&&define.amd?define(function(){return e("click-indicator")}):(this[""],this.goinstant=this.goinstant||{},this.goinstant.widgets=this.goinstant.widgets||{},this.goinstant.widgets.ClickIndicator=e("click-indicator"))})();